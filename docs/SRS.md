# LITMERS VCC 2025 – AI Issue Tracker SRS

AI 기능이 포함된 이슈 트래킹 & 칸반 보드를 구현한다.  
이 문서는 기능 요구사항을 Functional Requirement (FR-XXX) 형태로 정리한 SRS이다.

---

## 1. 시스템 개요

- 팀 기반 프로젝트/이슈 관리 툴
- 칸반 보드, 프로젝트/이슈/댓글 관리
- AI 기능 (요약, 해결 전략 제안, 자동 라벨링, 중복 이슈 탐지, 댓글 요약)
- 이메일/비밀번호 + Google OAuth 로그인
- 웹으로 배포되고 GitHub에 소스 코드가 업로드되어야 함

---

## 2. 도메인 개요

주요 엔티티:

- User: 인증, 프로필, 계정 삭제(Soft Delete)
- Team, TeamMember (OWNER/ADMIN/MEMBER), TeamInvitation, TeamActivityLog
- Project (즐겨찾기, 아카이브), ProjectLabel, ProjectStatus(커스텀 컬럼)
- Issue (상태, 우선순위, 담당자, 라벨, 서브태스크, 히스토리)
- Comment
- Notification
- AI 캐시(요약, 제안, 댓글 요약)

Soft Delete 대상: User, Team, Project, Issue, Comment (`deletedAt` 필드)

---

## 3. 기능 요구사항 (Functional Requirements)

### 3.1 인증 (Authentication)

**FR-001: 회원가입 (Sign Up)**  
- 이메일/비밀번호/이름으로 가입
- 입력:
  - `email`: 유니크, 이메일 형식, 최대 255자
  - `password`: 6~100자
  - `name`: 1~50자
- 처리:
  - 이메일 중복 체크
  - User 생성
  - 생성 후 자동 로그인 또는 로그인 화면 이동 (자유)
- 예외:
  - 중복 이메일, 형식 오류 시 에러 표시

**FR-002: 로그인/로그아웃**  
- 이메일/비밀번호로 로그인
- 처리:
  - 이메일로 사용자 조회
  - 비밀번호 검증
  - 성공 시 세션/토큰 발급 (만료 24시간)
  - 인증 필요한 페이지 접근 가능
- 예외:
  - 불일치 시 "이메일 또는 비밀번호가 올바르지 않습니다"

**FR-003: 비밀번호 찾기/재설정**  
- 이메일 기반 비밀번호 재설정
- 처리:
  - 이메일 입력
  - 재설정 링크/토큰 발급 (만료 1시간)
  - 실제 이메일 발송 필수
  - 새 비밀번호로 변경

**FR-004: Google OAuth 로그인**  
- Google 계정을 사용한 SNS 로그인
- 처리:
  - Google OAuth 플로우 구현
  - 신규 사용자는 자동 회원가입
  - 기존 사용자는 로그인
- 주의:
  - 이메일/비밀번호 로그인과 별개
  - 동일 이메일 계정 병합은 고려하지 않음

**FR-005: 프로필 관리**  
- 프로필 조회/수정
- 수정 가능:
  - `name` (1~50자)
  - `profileImage` (이미지 URL 또는 파일 업로드)
- 처리:
  - URL 입력 또는 파일 업로드 중 택1
  - 변경 즉시 반영

**FR-006: 비밀번호 변경**  
- 로그인 사용자만
- 입력:
  - `currentPassword`
  - `newPassword` (6~100자)
  - `confirmPassword` (new와 일치)
- 처리:
  - 현재 비밀번호 검증
  - 새 비밀번호로 변경
- 예외:
  - 현재 비밀번호 불일치, 새 비밀번호 확인 불일치 시 에러
- 참고:
  - Google OAuth 전용 계정은 비활성화

**FR-007: 계정 삭제**  
- 사용자 계정 삭제
- 처리:
  - 비밀번호 재확인 (OAuth는 확인 버튼만)
  - 소유한 팀 존재 여부 확인
  - 소유 팀이 있으면 삭제 불가 (팀 삭제 또는 소유권 이전 안내)
  - 계정 및 관련 데이터 Soft Delete
- 예외:
  - 소유한 팀 있을 시 “소유한 팀을 먼저 삭제하거나 소유권을 이전해주세요”

---

### 3.2 팀 (Team)

**FR-010: 팀 생성**  
- 로그인 사용자는 팀 생성 가능
- 입력: `name` (1~50자)
- 처리:
  - Team 생성 (`ownerId` = 생성자)
  - TeamMember 생성 (role = OWNER)
- 특징:
  - 한 사용자는 여러 팀 소속 가능
  - 역할: OWNER / ADMIN / MEMBER

**FR-011: 팀 정보 수정**  
- 권한: OWNER, ADMIN
- 수정: 팀 이름

**FR-012: 팀 삭제**  
- 권한: OWNER만
- 처리:
  - 팀 삭제 시 하위 프로젝트, 이슈, 댓글 Soft Delete
  - 삭제팀은 30일 복구 가능(복구 기능은 선택 사항)
- 참고:
  - OWNER는 탈퇴 불가, 삭제만 가능

**FR-013: 팀 멤버 초대**  
- 권한: OWNER, ADMIN
- 두 방식 중 하나 구현:
  1. 초대 이메일 저장 → 해당 이메일로 가입 시 자동 팀 합류
  2. 초대 이메일 저장 → 초대받은 사용자가 “초대 목록”에서 승인
- 규칙:
  - 초대 만료: 7일
  - 거절 기능 없음 (미수락 시 pending)
  - 재발송 가능 (만료일 갱신)
- 실제 이메일 발송 필수

**FR-014: 팀 멤버 조회**  
- 팀 멤버 리스트 조회
- 표시:
  - 이름, 이메일, 역할, 가입일

**FR-015: 팀 멤버 강제 퇴장**  
- 권한:
  - OWNER: 모두 퇴장 가능
  - ADMIN: MEMBER만 퇴장 가능
- 처리:
  - 해당 멤버를 팀에서 제거
  - OWNER/ADMIN 본인은 퇴장 불가

**FR-016: 팀 탈퇴**  
- 권한: ADMIN, MEMBER
- 처리:
  - 본인을 팀에서 제거
- OWNER는 탈퇴 불가

**FR-017: 팀 역할 체계**  
- 역할:
  - OWNER: 팀 생성자, 최고 권한, 팀당 1명
  - ADMIN: 관리자, 멤버 관리 가능
  - MEMBER: 일반 멤버, 프로젝트/이슈 작업 가능

**FR-018: 역할 변경**  
- 권한: OWNER
- 처리:
  - MEMBER → ADMIN 승격
  - ADMIN → MEMBER 강등
  - OWNER 권한을 ADMIN에게 이전 (이전 후 본인은 ADMIN)
- 제한:
  - OWNER 최소 1명 유지

**FR-019: 팀 활동 로그**  
- 팀 내 주요 활동 시간순 조회
- 기록 대상:
  - 멤버 가입/탈퇴/강제 퇴장
  - 역할 변경
  - 프로젝트 생성/삭제/아카이브
  - 팀 정보 수정
- 표시:
  - 내용, 수행자, 대상, 일시
- 페이지네이션 또는 무한 스크롤 필수

---

### 3.3 프로젝트 (Project)

**FR-020: 프로젝트 생성**  
- 팀 내에서 프로젝트 생성
- 입력:
  - `name` (1~100자, 필수)
  - `description` (선택, 최대 2000자)
- 처리:
  - Project 생성 (`teamId` = 팀, `ownerId` = 생성자)
  - 팀 멤버 전체 열람 가능
- 제한:
  - 팀당 최대 15개 프로젝트

**FR-021: 프로젝트 목록 조회**  
- 팀의 전체 프로젝트 조회
- 표시:
  - 이름, 설명 요약, 이슈 개수, 생성일, 즐겨찾기 여부
- 정렬:
  - 즐겨찾기 우선
  - 이후 생성일 역순

**FR-022: 프로젝트 상세 페이지**  
- 표시:
  - 프로젝트 정보 (이름, 설명)
  - 이슈 통계 (상태별 개수)
  - 칸반 보드 또는 이슈 리스트 (탭 전환)

**FR-023: 프로젝트 수정**  
- 권한: 팀 OWNER, ADMIN, 프로젝트 소유자
- 수정:
  - 이름, 설명

**FR-024: 프로젝트 삭제**  
- 권한: 팀 OWNER, ADMIN, 프로젝트 소유자
- 처리:
  - 하위 이슈, 댓글 Soft Delete

**FR-025: 프로젝트 설명**  
- 설명 필드 최대 2000자
- 마크다운 지원 권장

**FR-026: 프로젝트 아카이브**  
- 권한: 팀 OWNER, ADMIN, 프로젝트 소유자
- 처리:
  - 프로젝트 상태를 아카이브로 변경
  - 목록에서 별도 표시 또는 숨김
  - 아카이브된 프로젝트의 이슈는 읽기 전용
- 복원 가능

**FR-027: 프로젝트 즐겨찾기**  
- 사용자별 즐겨찾기
- 처리:
  - 즐겨찾기 토글
  - 즐겨찾기 프로젝트는 목록 상단 표시

---

### 3.4 이슈 (Issue)

**FR-030: 이슈 생성**  
- 프로젝트 안에서 이슈 생성
- 입력:
  - `title` (필수, 1~200자)
  - `description` (선택, 최대 5000자)
  - `assigneeUserId` (선택, 같은 팀 멤버)
  - `dueDate` (선택)
  - `priority` (선택, HIGH/MEDIUM/LOW, 기본 MEDIUM)
  - `labels` (선택, 프로젝트 라벨 중 복수)
- 처리:
  - 생성 시 `status = Backlog`
  - 이슈 소유자 = 생성자
- 제한:
  - 프로젝트당 최대 200개 이슈

**FR-031: 이슈 상세 조회**  
- 표시:
  - 제목, 설명, 상태, 우선순위, 담당자, 마감일, 라벨, 생성일
  - 서브태스크 목록
  - 댓글 리스트
  - AI 요약 버튼
  - AI 제안 버튼
  - 변경 히스토리 버튼/탭

**FR-032: 이슈 수정**  
- 권한: 팀 멤버 전체
- 수정:
  - 제목, 설명, 담당자, 마감일, 상태, 우선순위, 라벨

**FR-033: 이슈 상태 변경**  
- Drag & Drop 또는 상세 화면에서 상태 변경
- 기본 상태:
  - Backlog / In Progress / Done
- 커스텀 상태:
  - 프로젝트별 추가 상태 (FR-053)
- 상태 전이:
  - 모든 상태 간 자유 이동
- 잘못된 상태값 변경 시 오류

**FR-034: 담당자 지정**  
- `assigneeUserId`는 해당 프로젝트 팀 멤버여야 함

**FR-035: 이슈 삭제**  
- 권한: 이슈 소유자, 프로젝트 소유자, 팀 OWNER, ADMIN
- 처리:
  - Soft Delete

**FR-036: 이슈 검색/필터링**  
- 검색:
  - 제목 텍스트 검색
- 필터:
  - 상태 / 담당자 / 우선순위 / 라벨 / 마감일 유무 / 마감일 범위
- 정렬:
  - 생성일, 마감일, 우선순위, 최근 수정일

**FR-037: 이슈 우선순위**  
- 레벨: HIGH, MEDIUM(기본), LOW
- 칸반/목록에서 시각적으로 구분

**FR-038: 이슈 라벨/태그**  
- 프로젝트별 커스텀 라벨
- 필드:
  - `name` (1~30자)
  - `color` (HEX)
- 처리:
  - 라벨 생성/수정/삭제
  - 이슈에 최대 5개 라벨 적용
- 제한:
  - 프로젝트당 라벨 최대 20개

**FR-039: 이슈 변경 히스토리**  
- 기록:
  - 상태, 담당자, 우선순위, 제목, 마감일 변경
- 표시:
  - 변경 항목, 이전/새 값, 변경자, 일시

**FR-039-2: 서브태스크**  
- 체크리스트 형태 서브태스크
- 입력:
  - `title` (1~200자)
- 처리:
  - 이슈 상세에서 추가
  - 체크박스로 완료/미완료
  - 드래그로 순서 변경
- 제한:
  - 이슈당 20개
- 표시:
  - 이슈 카드에 진행률 (예: 3/5)

---

### 3.5 AI 기능

**FR-040: 설명 요약 (AI Summary)**  
- 이슈 description을 2~4문장으로 요약
- 동작:
  - 버튼 클릭 시 호출 (자동 X)
- 캐싱:
  - 한번 생성된 결과 저장
  - description 수정 시 캐시 무효화
- 제한:
  - description 10자 이하일 경우 실행 불가
- 에러:
  - API 실패 시 에러 메시지

**FR-041: 해결 전략 제안 (AI Suggestion)**  
- “이 이슈를 해결하기 위한 접근 방식 제안”
- 동작:
  - 버튼 클릭 시 호출
- 캐싱/제한/에러:
  - FR-040과 동일

**FR-042: AI Rate Limiting**  
- 정책:
  - 사용자당 분당 10회 또는 일당 100회 제한 (둘 중 하나 이상)
- 처리:
  - 초과 시 에러와 남은 시간/횟수 안내

**FR-043: AI 이슈 자동 분류 (Auto-Label)**  
- 이슈 생성 시 프로젝트 내 기존 라벨 중 적합한 라벨 추천
- 동작:
  - “AI 라벨 추천” 버튼
  - LLM이 제목+설명+라벨 목록 기반으로 추천 (최대 3개)
  - 사용자가 수락/거부

**FR-044: AI 중복 이슈 탐지**  
- 새 이슈 생성 시 기존 이슈와 유사도 검사
- 동작:
  - 제목 입력 시점 또는 버튼 클릭
  - 유사 이슈 최대 3개와 링크 표시
  - 무시하고 생성 가능

**FR-045: AI 댓글 요약**  
- 댓글 많은 이슈의 논의 요약
- 동작:
  - 버튼 클릭 시 실행
  - 댓글 5개 이상일 때만 버튼 활성화
- 캐싱:
  - 새 댓글 추가 시 캐시 무효화
- 출력:
  - 3~5문장 요약
  - 주요 결정 사항 포함(있을 경우)

---

### 3.6 칸반 보드

**FR-050: 칸반 보드 표시**  
- 상태별 컬럼: Backlog / In Progress / Done + 커스텀 상태
- 카드 표시:
  - 제목, 담당자, 우선순위, 라벨, 마감일, 서브태스크 진행률, 생성일

**FR-051: Drag & Drop 이동**  
- 카드 드래그로 컬럼(상태) 변경

**FR-052: 같은 컬럼 내 순서 변경**  
- 같은 상태 내에서 카드 순서 변경
- 처리:
  - position/order 필드에 저장
  - 새 이슈는 컬럼 최하단

**FR-053: 커스텀 컬럼 (Custom Status)**  
- 프로젝트별 추가 상태 정의
- 필드:
  - `name` (1~30자)
  - `color` (HEX, 선택)
  - `position` (순서)
- 제한:
  - 기본 3개 + 커스텀 5개 = 최대 8개
- 처리:
  - 생성/수정/삭제
  - 삭제 시 해당 상태 이슈는 Backlog로 이동

**FR-054: WIP Limit**  
- 컬럼별 최대 이슈 수
- 필드:
  - `wipLimit` (1~50 또는 null=무제한)
- 처리:
  - 초과 시 경고 표시 (이동은 허용)
- 표시:
  - 헤더에 현재 개수/제한 (예: 5/10)
  - 초과 시 헤더 강조

---

### 3.7 댓글 (Comment)

**FR-060: 댓글 작성**  
- 이슈 상세에서 댓글 작성
- 입력:
  - `content` (1~1000자)

**FR-061: 댓글 조회**  
- 작성일 순 정렬
- 페이지네이션 또는 무한 스크롤

**FR-062: 댓글 수정**  
- 권한: 작성자만

**FR-063: 댓글 삭제**  
- 권한:
  - 댓글 작성자, 이슈 소유자, 프로젝트 소유자, 팀 OWNER, ADMIN

---

### 3.8 대시보드 / 통계

**FR-080: 프로젝트 대시보드**  
- 표시:
  - 상태별 이슈 개수 (차트)
  - 완료율 (Done / 전체)
  - 우선순위별 이슈 개수
  - 최근 생성 이슈 (최대 5개)
  - 마감 임박 이슈 (7일 이내, 최대 5개)

**FR-081: 개인 대시보드**  
- 표시:
  - 내가 담당한 이슈 목록 (상태별)
  - 담당 이슈 총 개수
  - 마감 임박 이슈 (7일 이내)
  - 오늘 마감 이슈
  - 최근 내가 작성한 댓글 (5개)
  - 소속 팀/프로젝트 목록

**FR-082: 팀 통계**  
- 표시:
  - 기간별 이슈 생성 추이 (7/30/90일)
  - 기간별 이슈 완료 추이
  - 멤버별 담당 이슈 수 / 완료 이슈 수
  - 프로젝트별 이슈 현황

---

### 3.9 알림 (Notification)

**FR-090: 인앱 알림**  
- 이벤트별 알림:
  - 이슈 담당자 지정 → 담당자
  - 이슈에 댓글 작성 → 이슈 소유자, 담당자
  - 마감일 1일 전, 당일 → 담당자
  - 팀 초대 → 대상자
  - 역할 변경 → 해당 멤버
- 표시:
  - 헤더 알림 아이콘 + 미읽음 개수
  - 알림 목록 드롭다운 또는 페이지

**FR-091: 알림 읽음 처리**  
- 기능:
  - 개별 읽음 처리 (클릭 시)
  - 전체 읽음 처리 버튼
- 표시:
  - 읽음/미읽음 구분

---

### 3.10 권한 / 보안

**FR-070: 팀 멤버십 검증**  
- 모든 API에서 팀 멤버십 검증 필수
- 접근 제어:
  - 다른 팀 데이터 접근 시 404
  - 권한 없는 작업 시 403

**FR-071: Soft Delete 구현**  
- 대상:
  - User, Team, Project, Issue, Comment
- 구현:
  - `deletedAt` 필드, null만 조회

---

## 4. 데이터 제한 요약

| 항목 | 제한 |
| --- | --- |
| 팀당 프로젝트 수 | 최대 15개 |
| 프로젝트당 이슈 수 | 최대 200개 |
| 이슈당 서브태스크 수 | 최대 20개 |
| 프로젝트당 라벨 수 | 최대 20개 |
| 이슈당 라벨 수 | 최대 5개 |
| 프로젝트당 커스텀 상태 수 | 최대 5개 (총 8개 상태) |
| 컬럼당 WIP Limit | 1~50 또는 무제한 |
| 팀 이름 | 1~50자 |
| 프로젝트 이름 | 1~100자 |
| 프로젝트 설명 | 최대 2000자 |
| 이슈 제목 | 1~200자 |
| 이슈 설명 | 최대 5000자 |
| 서브태스크 제목 | 1~200자 |
| 라벨 이름 | 1~30자 |
| 커스텀 상태 이름 | 1~30자 |
| 댓글 내용 | 1~1000자 |
| 사용자 이름 | 1~50자 |
| 이메일 | 최대 255자 |
| 비밀번호 | 6~100자 |
| 토큰 만료 | 24시간 |
| 비밀번호 재설정 링크 만료 | 1시간 |
| 팀 초대 만료 | 7일 |
| AI 기능 최소 description 길이 | 10자 초과 |
| AI 댓글 요약 최소 댓글 수 | 5개 이상 |
| AI Rate Limit (분당) | 10회 |
| AI Rate Limit (일당) | 100회 |

---

## 5. 기술 요구사항

- FE/BE 스택 자유 (Next.js + Prisma + PostgreSQL 사용 예정)
- Google OAuth 구현 필수
- 실제 이메일 발송 필수
- AI 모델 API 제공자 자유
- Hand-off를 위한 README/문서 필요

---

## 6. 배포 요구사항

- 실제 접근 가능한 URL로 배포
- 테스트 계정 또는 실제 회원가입 가능 환경 제공
- Vercel, Netlify, Render, Fly.io 등 자유

---

## 7. UI/UX 요구사항

- 로딩 상태 UI
- 에러 상태 UI
- 페이지네이션 (이슈, 댓글, 활동 로그)
- 모바일 반응형
- 대시보드 차트/시각화

---

## 8. 실시간 업데이트

- 기본은 새로고침 기반
- WebSocket 등 실시간 업데이트는 가산점